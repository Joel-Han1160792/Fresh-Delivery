{% extends 'base.html' %} {% block title %}Buy Gift Card{% endblock %} {% block
content %}
<div class="container mt-5">
  <h2>Buy Gift Card</h2>
  <form
    action="{{ url_for('buygiftcard', id=gc['GiftCardOptionID']) }}"
    method="post"
    class="needs-validation"
    novalidate
  >
    <div class="form-group mb-3">
      <label for="gcid" class="form-label">Gift Card Option</label>
      <input type="hidden" name="gcid" value="{{ gc['GiftCardOptionID'] }}" />
      <p>{{ gc['GiftCardName'] }} </p>
    </div>
    <div class="form-group mb-3">
      <label for="amount" class="form-label">Amount(NZ$)</label>
      <input
        type="number"
        class="form-control"
        id="amount"
        name="amount"
        value=""
        required
      />
      <div class="invalid-feedback">Please enter an amount.</div>
    </div>
    <div class="form-group mb-3">
      <label for="name" class="form-label">Receiver Name</label>
      <input type="text" class="form-control" id="name" name="name" required />
      <div class="invalid-feedback">Please enter the receiver's name.</div>
    </div>
    <div class="form-group mb-3">
      <label for="address" class="form-label">Delivery Address</label>
      <textarea
        class="form-control"
        id="address"
        name="address"
        rows="3"
        required
      ></textarea>
      <div class="invalid-feedback">Please enter the delivery address.</div>
    </div>
    <div class="form-group mb-3">
      <label class="form-label"><strong>Credit Card Information</strong></label>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="card_number" class="form-label">Card Number</label>
          <input
            type="text"
            class="form-control"
            id="card_number"
            name="card_number"
            pattern="[0-9]{16}"
            maxlength="16"
            required
          />
          <div class="invalid-feedback">
            Please provide a valid 16-digit card number.
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label for="cardholder_name" class="form-label"
            >Cardholder Name</label
          >
          <input
            type="text"
            class="form-control"
            id="cardholder_name"
            name="cardholder_name"
            required
          />
          <div class="invalid-feedback">
            Please provide the cardholder's name.
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label for="expiry_date" class="form-label">Expiry Date</label>
          <input
            type="text"
            class="form-control"
            id="expiry_date"
            name="expiry_date"
            placeholder="MM/YY"
            pattern="(0[1-9]|1[0-2])\/[0-9]{2}"
            required
          />
          <div class="invalid-feedback">
            Please provide the expiry date in MM/YY format.
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label for="cvv" class="form-label">CVV</label>
          <input
            type="text"
            id="cvv"
            name="cvv"
            class="form-control"
            pattern="[0-9]{3}"
            maxlength="3"
            required
          />
          <div class="invalid-feedback">Please provide a 3-digit CVV.</div>
        </div>
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Buy</button>
  </form>
</div>

<script>
  // Example starter JavaScript for disabling form submissions if there are invalid fields
  (function () {
    "use strict";
    window.addEventListener(
      "load",
      function () {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName("needs-validation");
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function (form) {
          form.addEventListener(
            "submit",
            function (event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add("was-validated");
            },
            false
          );
        });
      },
      false
    );
  })();
</script>
{% endblock %}
